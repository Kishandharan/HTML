<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://fonts.googleapis.com/css?family=JetBrains Mono' rel='stylesheet'>
    <title>Document</title>
    <style>
        *{
            font-family: "JetBrains Mono";
            font-size: 1.7rem;
        }

        td{
            width: 300px;
        }

        #submitBtn{
            background-color: #eb6734;
            color: black;
            border-radius: 10px;
            transition: all 0.4s linear;
            cursor: pointer;
        }

        #submitBtn:hover{
            background-color: black;
            color: #eb6734;
        }

        #userlost, #gameover{
            opacity: 0;
        }
    </style>
</head>
<body>
    <div id="game">
        <table>
            <tr>
                <td>User</td>
                <td><input id="user"></td>
            </tr>
            <tr>
                <td>Comp</td>
                <td><input id="comp" readonly></td>
            </tr>
        </table><br>
        <button id="submitBtn">Submit</button>
    </div>
    <p id="userlost">You have lost the game</p>
    <p id="gameover">Game over</p>
    <script>
        const words = [
              "agree",
              "admit",
              "adventure",
              "ability",
              "born",
              "background",
              "bad",
              "calm",
              "call",
              "dance",
              "door",
              "dangerous",
              "dead",
              "dam",
              "email",
              "earth",
              "ease",
              "front",
              "face",
              "fat",
              "force",
              "forcefully",
              "forcibly",
              "fan",
              "fancy",
              "family",
              "gallon",
              "gain",
              "gene",
              "general",
              "generally",
              "generation",
              "gentleman",
              "habit",
              "habitat",
              "half",
              "hard",
              "hardly",
              "ink",
              "in",
              "jungle",
              "justice",
              "jovial",
              "jewel",
              "jacket",
              "knowledge",
              "kingdom",
              "keen",
              "kettle",
              "keyboard",
              "lamp",
              "language",
              "launch",
              "leader",
              "legend",
              "mountain",
              "museum",
              "music",
              "mystery",
              "motion",
              "nature",
              "network",
              "novel",
              "number",
              "nurture",
              "ocean",
              "object",
              "observe",
              "offer",
              "origin",
              "planet",
              "pleasure",
              "policy",
              "popular",
              "position",
              "quality",
              "quarter",
              "question",
              "quick",
              "quiet",
              "river",
              "robot",
              "rocket",
              "role",
              "round",
              "sun",
              "system",
              "symbol",
              "symphony",
              "syntax",
              "tree",
              "travel",
              "tunnel",
              "typical",
              "type",
              "umbrella",
              "universe",
              "unique",
              "unit",
              "update",
              "victory",
              "village",
              "vision",
              "voice",
              "volume",
              "wander",
              "wealth",
              "weather",
              "welcome",
              "window",
              "xenon",
              "xerox",
              "xylophone",
              "xenial",
              "xylem",
              "yacht",
              "yard",
              "year",
              "yellow",
              "youth",
              "zebra",
              "zero",
              "zone",
              "zoo",
              "zoom"
            ];

        let game = document.getElementById("game");
        let user = document.getElementById("user");
        let comp = document.getElementById("comp");
        let userlost = false;
        let complost = false;
        let userChoice = "";
        let compChoice = ""; 
        let userLastLetter = "";
        let compLastLetter = "";

        let submit1 = document.getElementById("submitBtn");
        let userlostelemnt = document.getElementById("userlost");

        let count = 1;
        
        submit1.onclick = () => {
            if(count == 1){
                userChoice = user.value;
                if(!(words.includes(userChoice.toLowerCase()))){
                    game.style.display = "none";
                    userlostelemnt.style.opacity = "1";
                }else{
                    let input1 = userChoice.split("")
                    userLastLetter = input1[input1.length - 1];
                    let input2 = words.filter((word) => {
                        if(word.startsWith(userLastLetter)){
                            return true;
                        }else{
                            return false;
                        }
                    });
                    compChoice = input2[ Math.floor(Math.random() * input2.length) ];
                    comp.value = compChoice;
                    let temp = compChoice.split("");
                    compLastLetter = temp[temp.length - 1];
                }
                count++;
            }else{
                console.log("Welcome to the new world");
                userChoice = user.value;
                if(!(words.includes(userChoice.toLowerCase()))){
                    console.log("fali1");
                    game.style.display = "none";
                    userlostelemnt.style.opacity = "1";
                }else if(userChoice[0].toLowerCase() != compLastLetter.toLowerCase()){
                    console.log("fali2");
                    console.log(userChoice[0].toLowerCase());
                    console.log(compLastLetter.toLowerCase());
                    game.style.display = "none";
                    userlostelemnt.style.opacity = "1";
                }else{
                    let input1 = userChoice.split("")
                    userLastLetter = input1[input1.length - 1];
                    let input2 = words.filter((word) => {
                        if(word.startsWith(userLastLetter)){
                            return true;
                        }else{
                            return false;
                        }
                    });
                    compChoice = input2[ Math.floor(Math.random() * input2.length) ];
                    comp.value = compChoice;
                    let temp = compChoice.split("");
                    compLastLetter = temp[temp.length - 1];
                }
            }
        }



    </script>
</body>
</html>
